<html>
<META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
<META name="robots" CONTENT="noindex, nofollow">
<META HTTP-EQUIV="EXPIRES" CONTENT="Mon, 22 Jul 2002 11:12:01 GMT">
    <style>
    body{
      text-align:center;
   }
     .date{
    font-size: calc(18px + 1vw);
    }
    .message{
    display: inline-block;
    margin-top: 200px;
    font-weight: bold;
    font-size: calc(40px + 1vw);
    font-family: Arial, sans-serif;
    text-decoration: none;
    color: black;
    }
[ng\:cloak], [ng-cloak], .ng-cloak {
  display: none !important;
}
  </style>
<body ng-app="myApp" ng-controller="messageController" ng-cloak>
    <div class="date">{{date.getMonth() + 1}}-{{date.getDate()}}-{{date.getFullYear()}}</div>
    <div id="msg" class="message" alt="{{todayMessage}}">{{todayMessage}}</div>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.4/angular.min.js"></script>
<script>
var myApp = angular.module('myApp',[]);

myApp.controller('messageController', ['$scope', function($scope) {
    $scope.date = new Date();
    $scope.isBirthday = ($scope.date.getMonth()+1==10)&&($scope.date.getDate()==17);
   
    var oneDay = 24*60*60*1000; // hours*minutes*seconds*milliseconds
    //TODO: handle years after 2018
    // This is October 17, 2018; Months are zero-indexed
    var birthDate = new Date(2018,9,17);
    var todayDate = new Date()
    var diffDays = Math.round(Math.abs((birthDate.getTime() - todayDate.getTime())/(oneDay)));
    var todayIndex = diffDays;

    //TODO store messages somewhere, maybe encrypted?
    $scope.messages = ['Happy Birthday!!! May this be the first day of a year filled with love, friendship and Tikkun Olam.', 'You always amaze me with your spirit, creativity and energy.', 'Your laughter is life-affirming and makes those you are with happy.'];
    $scope.todayMessage = $scope.messages[todayIndex]||'I love you';
}]);
</script>
</body>
</html>
