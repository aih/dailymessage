<html>
<META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
<META name="robots" CONTENT="noindex, nofollow">
<META HTTP-EQUIV="EXPIRES" CONTENT="Mon, 22 Jul 2002 11:12:01 GMT">
    <style>
    body{
      text-align:center;
   }
     .date{
    font-size: calc(18px + 1vw);
    }
    .message{
    display: inline-block;
    padding: 10px;
    margin-top: 200px;
    font-weight: bold;
    font-size: calc(40px + 1vw);
    font-family: Arial, sans-serif;
    text-decoration: none;
    color: black;
    }
[ng\:cloak], [ng-cloak], .ng-cloak {
  display: none !important;
}
  </style>
<body ng-app="myApp" ng-controller="messageController" ng-cloak>
    <div class="date">{{date.getMonth() + 1}}-{{date.getDate()}}-{{date.getFullYear()}}</div>
    <div id="msg" class="message" >{{todayMessage}}</div>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.4/angular.min.js"></script>
<script>
var myApp = angular.module('myApp',[]);

myApp.controller('messageController', ['$scope', function($scope) {
    $scope.date = new Date();
    $scope.isBirthday = ($scope.date.getMonth()+1==10)&&($scope.date.getDate()==17);
   
    var oneDay = 24*60*60*1000; // hours*minutes*seconds*milliseconds
    //TODO: handle years after 2018
    // This is October 17, 2018; Months are zero-indexed
    var birthDate = new Date(2018,9,17);
    var todayDate = new Date()
    var diffDays = Math.round(Math.abs((todayDate.getTime() - birthDate.getTime())/(oneDay)));
    var todayIndex = diffDays;

    //TODO store messages somewhere, maybe encrypted?
    $scope.messages = ['Happy ל Birthday!!! May this year bring joy to your לב, as you continue to perform Tikkun Olam, fixing that which is broken in the world.', 'You always amaze me with your spirit, creativity and energy.', 'Your laughter is life-affirming and makes those you are with happy.',
                      'Open your mouth for the those who cannot speak, speak for all who have been passed by. - Psalms 31:8', ];
    $scope.todayMessage = $scope.messages[todayIndex]||'I love you';
}]);
</script>
</body>
</html>
